\section{Hamiltonian Form of the Equations of Free Electromagnetic Field}
Let's represent the field in volume $V$ in the form of expansions \eqref{eqCh1_sep1}:
\begin{equation}
\vec{E}\left(r, t\right) = \sum_{(n)}
\frac{q_n\left(t\right) \omega_n}{\sqrt{\varepsilon_0}} \vec{E}_n\left(r\right),
\quad
\vec{H}\left(r, t\right) = \sum_{(n)}
\frac{p_n\left(t\right)}{\sqrt{\mu_0}} \vec{H}_n\left(r\right),
\label{eqCh1_sep1_1}
\end{equation}
where $p_n = \frac{d q_n}{d t}$ and $q_n$ satisfies the equation
\[
\frac{d^2 q_n}{d t^2} + \omega_n^2 q_n = 0.
\]
This is the equation of a harmonic oscillator. Its solution:
\begin{equation}
q_n\left(t\right) = q_n\left(0\right) \cos \omega_n t + 
\frac{\dot{q_n}\left(0\right)}{\omega_n} \sin \omega_n t 
\end{equation}
$q_n\left(0\right)$ and 
$\dot{q_n}\left(0\right)$ 
are determined from the expansion of the initial field over  
$\vec{E_n}$, $\vec{H_n}$.
 
Now let's write down the equations of electrodynamics in Hamiltonian form. The Hamiltonian function for the electromagnetic field (field energy)
\begin{equation}
\mathcal{H} = \frac{1}{2}
\int_{\nu}\left( \varepsilon_0\left(\vec{E}\right)^2 + \mu_0
\left(\vec{H}\right)^2\right) d\nu
\label{eqCh1_hamilton}
\end{equation}
Substituting the expansions \eqref{eqCh1_sep1_1} into \eqref{eqCh1_hamilton} and using the orthogonality of eigenfunctions, we obtain 
\begin{eqnarray}
\mathcal{H} = \frac{1}{2} 
\int_{\nu}\left( \sum_{(n)} \sum_{(m)}\varepsilon_0
\frac{q_n q_m \omega_n \omega_m}{\varepsilon_0}
\left( \vec{E_n} \vec{E_m}\right)
\right) d\nu +
\nonumber \\
+  \frac{1}{2} 
\int_{\nu}\left( \sum_{(n)} \sum_{(m)}\mu_0
\frac{p_n p_m}{\mu_0}
\left( \vec{H_n} \vec{H_m}\right)
\right) d\nu =
\nonumber \\
= \frac{1}{2}\sum_{(n)}\left(\omega_n^2 q_n^2 + p_n^2\right).
\end{eqnarray}
This expression corresponds to the Hamiltonian function for a set of independent harmonic oscillators. 

For one mode, the Hamiltonian function is  
\begin{equation}
\mathcal{H}_n = \frac{1}{2}\left(\omega_n^2 q_n^2 + p_n^2\right).
\label{eqCh1_hamilton_one_mode}
\end{equation}
then
\begin{equation}
\mathcal{H} = \sum_{(n)} \mathcal{H}_n
\label{eqCh1_hamilton_sum_mode}
\end{equation}
The equations of motion are obtained from the Hamiltonian function by the known method \eqref{eq:add:quantel:hamilton}:
\begin{equation}
\dot{q}_n = \frac{\partial \mathcal{H}_n}{\partial p_n} = p_n,
\quad
\dot{p}_n = - \frac{\partial \mathcal{H}_n}{\partial q_n} =
- \omega_n^2 q_n = \ddot{q}_n.
\end{equation}
The obtained equations coincide with the equations \eqref{eqCh1_after_sep}.  
The Hamiltonian function of a mechanical oscillator
\[
\mathcal{H} = \frac{1}{2}\left(M \Omega^2 x^2 + \frac{p^2}{M}\right)
\]

Therefore, \eqref{eqCh1_hamilton_one_mode} formally corresponds to an oscillator with unit mass and natural frequency $\omega_n$. The Hamiltonian representation of the electromagnetic field equations is convenient for the procedure of quantizing the field. This approach is suitable for solving various classical problems in many cases. More details can be found in the book \cite{bCh1Quantel_Gin}.